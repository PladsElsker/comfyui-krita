## Krita doit register ses documents dans ComfyUI
1) Quand on crée un nouveau document (même si pas enregistré), quand Krita s'ouvre, quand Krita se ferme, Krita envoie des requêtes en "relatif" au serveur ComfyUI (pas mal sûr qu'on n'a pas accès au state complet du point de vu de tous les plugins en exécution de Krita, donc on peut juste envoyer des register/unregister documents). Il y a peut-être moyen d'avoir une représentation d'id qui est unique... idk. Les requêtes sont envoyées à `{base}/krita/documents`
2) Le serveur ComfyUI garde en mémoire l'id des documents Krita enregistrés
3) Au lancement d'un client ComfyUI, ou quand les ids de documents de Krita changent, le serveur ComfyUI envoie une requête en "absolu" aux clients connectés pour qu'ils updatent les ids disponibles dans les nodes `Krita Document`


## ComfyUI doit synchroniser son workflow actif avec Krita
1) Quand le user crée une node dans le workflow du clien ComfyUI (pas besoin de saver le workflow), quand il supprime une node, quand il modifie le nom du workflow, quand il change de workflow tab en haut, quand la window devient en focus, alors il envoie le workflow actif et son nom, sérialisés, à `{base}/krita/documents/{id}/workflow`
2) Le serveur ComfyUI reçoit le nom et le workflow et parse les nodes Krita. Ensuite, il envoie (sid, nom, inputs, outputs) à Krita. 
3) Krita reçoit le sid, le nom, les inputs et les outputs, et regarde dans sa cache pour mapper (sid, nom) à des inputs existants qui auraient été settés par le passé. Si l'entry de la cache est vide, les inputs pour layer et layer-set sont par défaut
4) 